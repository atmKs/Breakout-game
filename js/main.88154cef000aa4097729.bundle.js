"use strict";(self.webpackChunkwebpack_boilerplate=self.webpackChunkwebpack_boilerplate||[]).push([[179],{805:()=>{function e(e,t){for(var l=0;l<t.length;l++){var a=t[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function l(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function a(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?l(Object(r),!0).forEach((function(l){t(e,l,r[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}for(var r=document.querySelector("#canvas"),c={x:r.width/2,y:r.height/2,size:10,speed:4,dx:4,dy:-4},n={x:r.width/2-40,y:r.height-20,w:80,h:10,speed:8,dx:0},i={w:70,h:20,padding:10,offsetX:45,offsetY:60,visible:!0},o=[],s=0;s<9;s++){o[s]=[];for(var d=0;d<5;d++){var b=s*(i.w+i.padding)+i.offsetX,u=d*(i.h+i.padding)+i.offsetY;o[s][d]=a({x:b,y:u},i)}}var f=function(){function t(e,l,a,r,c,n,i,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.score=e,this.canvas=l,this.ctx=l.getContext("2d"),this.ball=a,this.paddle=r,this.brickInfo=c,this.brickRowCount=n,this.brickColumnCount=i,this.bricks=o}var l,a;return l=t,(a=[{key:"drawBall",value:function(){this.ctx.beginPath(),this.ctx.arc(c.x,c.y,c.size,0,2*Math.PI),this.ctx.fillStyle="#0095dd",this.ctx.fill(),this.ctx.closePath()}},{key:"drawPaddle",value:function(){this.ctx.beginPath(),this.ctx.rect(n.x,n.y,n.w,n.h),this.ctx.fillStyle="#0095dd",this.ctx.fill(),this.ctx.closePath()}},{key:"drawScore",value:function(){this.ctx.font="20px Arial",this.ctx.fillText("Счет: ".concat(this.score),r.width-100,30)}},{key:"drawBrick",value:function(){var e=this;this.bricks.forEach((function(t){t.forEach((function(t){e.ctx.beginPath(),e.ctx.rect(t.x,t.y,t.w,t.h),e.ctx.fillStyle=t.visible?"#0095dd":"transparent",e.ctx.fill(),e.ctx.closePath()}))}))}}])&&e(l.prototype,a),Object.defineProperty(l,"prototype",{writable:!1}),t}();const h=new f(0,r,c,n,i,9,5,o);var y,p=document.querySelector(".best-score");function x(){document.querySelector("#rules").classList.toggle("show")}function w(){document.querySelector("#rules").classList.remove("show")}function v(e){"Right"===e.key||"ArrowRight"===e.key?h.paddle.dx=h.paddle.speed:"Left"!==e.key&&"ArrowLeft"!==e.key||(h.paddle.dx=-h.paddle.speed)}function g(e){"Right"!==e.key&&"ArrowRight"!==e.key&&"Left"!==e.key&&"ArrowLeft"!==e.key||(h.paddle.dx=0)}function k(e){var t=e.clientX-h.canvas.offsetLeft;t>0&&t<h.canvas.width&&(h.paddle.x=t-h.paddle.w/2)}function m(){localStorage.setItem("bestScore","0"),h.score=0,p.innerHTML="Лучший счет: 0",S()}function S(){h.bricks.forEach((function(e){e.forEach((function(e){return e.visible=!0}))}))}function P(){h.paddle.x+=h.paddle.dx,h.paddle.x+h.paddle.w>h.canvas.width&&(h.paddle.x=h.canvas.width-h.paddle.w),h.paddle.x<0&&(h.paddle.x=0),h.ball.x+=h.ball.dx,h.ball.y+=h.ball.dy,(h.ball.x+h.ball.size>h.canvas.width||h.ball.x-h.ball.size<0)&&(h.ball.dx*=-1),(h.ball.y+h.ball.size>h.canvas.height||h.ball.y-h.ball.size<0)&&(h.ball.dy*=-1),h.ball.x-h.ball.size>h.paddle.x&&h.ball.x+h.ball.size<h.paddle.x+h.paddle.w&&h.ball.y+h.ball.size>h.paddle.y&&(h.ball.dy=-h.ball.speed),h.bricks.forEach((function(e){e.forEach((function(e){e.visible&&h.ball.x-h.ball.size>e.x&&h.ball.x+h.ball.size<e.x+e.w&&h.ball.y+h.ball.size>e.y&&h.ball.y-h.ball.size<e.y+e.h&&(h.ball.dy*=-1,e.visible=!1,h.score++,h.score%(h.brickRowCount*h.brickColumnCount)==0&&setTimeout(S,700))}))})),h.ball.y+h.ball.size>h.canvas.height&&(h.score>localStorage.getItem("bestScore")&&(localStorage.setItem("bestScore",h.score),p.innerHTML="Лучший счет: ".concat(h.score)),S(),h.score=0),h.ctx.clearRect(0,0,h.canvas.width,h.canvas.height),h.ctx.beginPath(),h.drawBall(),h.drawPaddle(),h.drawScore(),h.drawBrick(),requestAnimationFrame(P)}y=p,localStorage.getItem("bestScore")?y.innerHTML="Лучший счет: ".concat(localStorage.getItem("bestScore")):y.innerHTML="Лучший счет: 0";var O=document.querySelector("#rules-btn"),L=document.querySelector("#close-btn"),E=document.querySelector("#reset");window.addEventListener("load",(function(){O.addEventListener("click",x),L.addEventListener("click",w),document.addEventListener("keydown",v),document.addEventListener("keyup",g),document.addEventListener("mousemove",k),E.addEventListener("click",m),P()}))}},e=>{e(e.s=805)}]);